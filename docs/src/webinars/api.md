# API

Все роуты ожидают json на входе

### Routes
Путь                                  | Метод      | Краткое описание
------------------------------------- | ---------- | ----------
/api/v1/webinars/:webinar_id          | GET        | [Отображает](#Чтение-вебинара) объект вебинара.
/api/v1/webinars                      | POST       | [Создаёт](#Создание-вебинара) вебинар и необходимые комнаты в ивенте и конференс.
/api/v1/webinars/:webinar_id          | PUT, PATCH | [Обновляет](#Обновление-вебинара) время вебинара.


### Создание вебинара

Параметры:

Свойство               | Тип         | Опц. | Описание
---------------------- | ----------- | ---- | -------------------------------------------------
title                  | string      |      | Название вебинара
scope                  | string      |      | Идентификатор вебинара у тенанта
audience               | string      |      | Audience тенанта
time                   | [int, int]  | +    | Начало и конец
tags                   | json object | +    | Произвольные теги для тенанта
preserve_history       | bool        | +    | Сохранять ли историю в комнате ивента
reserve                | i32         | +    | Количество резервируемых слотов на джанусе
backend                | string      | +    | Бэкенд комнаты, возможные значения: janus, none
locked_chat            | bool        | +    | Позволяет закрыть чат при создании комнаты

В ответе статус 201 и объект вебинара.

### Чтение вебинара

Параметры:

Свойство               | Тип         | Опц. | Описание
---------------------- | ----------- | ---- | -------------------------------------------------
webinar_id             | uuid        |      | Идентификатор вебинара
time                   | [int, int]  | +    | Новые начало и конец

Ответ:

Свойство               | Тип         | Опц. | Описание
---------------------- | ----------- | ---- | ---------------------------------------------------------
id                     | string      |      | Скоуп вебинара
title                  | string      |      | Название вебинара
real_time              | json object |      | Поля event_room_id и conference_room_id
on_demand              | json array  | +    | Массив с оригинальной и модифицированной версиями стримов
status                 | string      | +    | Состояние вебинара, возможные значения: transcoded, adjusted, finished, realtime


### Обновление вебинара

Параметры:

Свойство               | Тип         | Опц. | Описание
---------------------- | ----------- | ---- | -------------------------------------------------
webinar_id             | uuid        |      | Идентификатор вебинара

В ответе статус 200 и объект вебинара.
